(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__VPBD0",image:"ImageGalleryItem_image__OnRa_"}},11:function(e,t,a){e.exports={Overlay:"Modal_Overlay__33Ypd",Modal:"Modal_Modal__3ihEg"}},12:function(e,t,a){e.exports={wrapperloader:"Loader_wrapperloader__28Y85",loader:"Loader_loader__21nCC"}},14:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1hnjP"}},15:function(e,t,a){e.exports={Button:"Button_Button__HOrbw"}},16:function(e,t,a){e.exports={ModBut:"App_ModBut__ztu0Z"}},22:function(e,t,a){},4:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__1Zg9m",SearchForm:"SearchBar_SearchForm__j7pKz",button:"SearchBar_button__2GXd0",label:"SearchBar_label__2KM2T",input:"SearchBar_input__21W2e"}},45:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(6),o=a.n(r),l=(a(22),a(13)),i=a(3),s=a(4),u=a.n(s),j=a(8),d=a(1);var h=function(e){var t=e.onSubmit,a=Object(n.useState)(""),c=Object(i.a)(a,2),r=c[0],o=c[1];return Object(d.jsx)("header",{className:u.a.Searchbar,children:Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):Object(j.b)("\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435")},className:u.a.SearchForm,children:[Object(d.jsx)("button",{type:"submit",className:u.a.button,children:Object(d.jsx)("span",{className:u.a.label,children:"Search"})}),Object(d.jsx)("input",{className:u.a.input,type:"text",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},b=(a(24),a(14)),m=a.n(b),f=a(10),O=a.n(f);function p(e){var t=e.hits,a=e.onClick;return Object(d.jsx)(d.Fragment,{children:t.map((function(e){return Object(d.jsx)("li",{className:O.a.ImageGalleryItem,children:Object(d.jsx)("img",{src:e.webformatURL,alt:e.tags,className:O.a.image,onClick:function(){return a(e.largeImageURL)}})},e.id)}))})}function g(e){var t=e.hits,a=e.onClick;return Object(d.jsx)("ul",{className:m.a.ImageGallery,children:Object(d.jsx)(p,{hits:t,onClick:a})})}var _=a(11),x=a.n(_);var v=function(e){var t=e.url,a=e.tag,c=e.handleCloseModal,r=e.handleBackdropClose;Object(n.useEffect)((function(){return document.addEventListener("keydown",o),function(){document.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&c()};return Object(d.jsx)("div",{className:x.a.Overlay,onClick:function(e){return r(e)},children:Object(d.jsx)("div",{className:x.a.Modal,children:Object(d.jsx)("img",{src:t,alt:a})})})},S=a(15),y=a.n(S);function k(e){var t=e.handleClickLoadMore;return Object(d.jsx)("button",{className:y.a.Button,type:"button",onClick:t,children:"Load more"})}var C=a(16),B=a.n(C),I=a(17),w=a.n(I),M=a(12),N=a.n(M),L=function(){return Object(d.jsx)("div",{className:N.a.wrapperloader,children:Object(d.jsx)(w.a,{type:"Oval",color:"LightSkyBlue",height:100,width:100,timeout:3e3,className:N.a.loader})})};var G={fetchFirstArr:function(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("22652626-da7dc8e3a4ffdfdaea60a5cb5","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t?t.json():console.log("\u041d\u0435\u0442\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e ".concat(e))}))}};var E=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(1),o=Object(i.a)(r,2),s=o[0],u=o[1],b=Object(n.useState)(!1),m=Object(i.a)(b,2),f=m[0],O=m[1],p=Object(n.useState)(""),_=Object(i.a)(p,2),x=_[0],S=_[1],y=Object(n.useState)(null),C=Object(i.a)(y,2),I=C[0],w=C[1],M=Object(n.useState)(null),N=Object(i.a)(M,2),E=N[0],F=N[1],R=Object(n.useState)(null),T=Object(i.a)(R,2),z=T[0],A=T[1];Object(n.useEffect)((function(){x&&(O(!0),G.fetchFirstArr(x,s).then((function(e){e.hits.length>0?console.log(7777):w(1),c((function(t){return[].concat(Object(l.a)(t),Object(l.a)(e.hits))}))})).then(window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})).catch((function(e){return w(e)})).finally((function(){return O(!1)})))}),[x,s]);var U=function(){F(null),A(null)},D=a.length>0;return Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{onSubmit:function(e){S(e),u(1),c([]),w(null)}}),I&&Object(d.jsx)("h1",{children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0442\u0430\u043a\u0438\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c"}),f&&Object(d.jsx)(L,{}),a&&Object(d.jsx)(g,{hits:a,onClick:function(e){var t=a.find((function(t){return t.largeImageURL===e}));if(t){var n=t.tags;console.log(n),F(e),A(n)}}}),D&&Object(d.jsx)("div",{className:B.a.ModBut,children:Object(d.jsx)(k,{handleClickLoadMore:function(){u((function(e){return e+1}))}})}),Object(d.jsx)(j.a,{autoClose:3e3}),E&&Object(d.jsx)(v,{url:E,tag:z,handleBackdropClose:function(e){e.currentTarget===e.target&&U()},handleCloseModal:U})]})};o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.ee65214f.chunk.js.map