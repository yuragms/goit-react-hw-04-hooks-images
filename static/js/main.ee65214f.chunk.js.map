{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/Loader/Loader.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/App.module.css","Components/Searchbar/SearchBar.module.css","Components/Searchbar/SearchBar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/API/API.js","Components/App.js","index.js"],"names":["module","exports","SearchBar","onSubmit","useState","searchFieldvalue","setSearchFieldvalue","className","style","Searchbar","e","preventDefault","trim","toast","SearchForm","type","button","label","input","value","onChange","currentTarget","toLowerCase","autoComplete","autoFocus","placeholder","ImageGalleryItem","hits","onClick","map","item","src","webformatURL","alt","tags","image","largeImageURL","id","ImageGallery","Modal","url","tag","handleCloseModal","handleBackdropClose","useEffect","document","addEventListener","handleEscClose","removeEventListener","code","Overlay","ButtonMore","handleClickLoadMore","Button","Spinner","wrapperloader","color","height","width","timeout","loader","api","fetchFirstArr","nextFieldvalue","page","fetch","then","response","json","console","log","App","data","setData","setPage","loading","setLoading","error","setError","selectedlargeImageURL","setSelectedlargeImageURL","taglargeImage","setTaglargeImage","fetchAPI","length","prevState","window","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","showButton","largeImage","tagObject","find","ModBut","autoClose","target","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ee65214f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__VPBD0\",\"image\":\"ImageGalleryItem_image__OnRa_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__33Ypd\",\"Modal\":\"Modal_Modal__3ihEg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperloader\":\"Loader_wrapperloader__28Y85\",\"loader\":\"Loader_loader__21nCC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1hnjP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__HOrbw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ModBut\":\"App_ModBut__ztu0Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1Zg9m\",\"SearchForm\":\"SearchBar_SearchForm__j7pKz\",\"button\":\"SearchBar_button__2GXd0\",\"label\":\"SearchBar_label__2KM2T\",\"input\":\"SearchBar_input__21W2e\"};","import style from \"./SearchBar.module.css\";\n// import React, { Component } from \"react\";\nimport {useState} from 'react';\nimport { toast } from \"react-toastify\";\n// import PropTypes from 'prop-types';\n\nfunction SearchBar ({onSubmit}) {\n  // state = {\n  //   searchFieldvalue: \"\",\n  // };\n\n  const [searchFieldvalue, setSearchFieldvalue] = useState('');\n\n  const handleFieldChange = (e) => {\n    \n    setSearchFieldvalue(e.currentTarget.value.toLowerCase());\n\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (searchFieldvalue.trim() === \"\") {\n      toast(\"Вы ввели пустое поле\");\n      return;\n    }\n    onSubmit(searchFieldvalue);\n    setSearchFieldvalue('');\n  };\n\n  \n    return (\n      <header className={style.Searchbar}>\n        <form onSubmit={handleSubmit} className={style.SearchForm}>\n          <button type=\"submit\" className={style.button}>\n            <span className={style.label}>Search</span>\n          </button>\n\n          <input\n            className={style.input}\n            type=\"text\"\n            value={searchFieldvalue}\n            onChange={handleFieldChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  \n}\n\n// SearchBar.propTypes = {\n\n// };\n\nexport default SearchBar;\n\n\n\n// class SearchBar extends Component {\n//   state = {\n//     searchFieldvalue: \"\",\n//   };\n\n//   handleFieldChange = (e) => {\n//     this.setState({ searchFieldvalue: e.currentTarget.value.toLowerCase() });\n//   };\n\n//   handleSubmit = (e) => {\n//     e.preventDefault();\n\n//     if (this.state.searchFieldvalue.trim() === \"\") {\n//       toast(\"Вы ввели пустое поле\");\n//       return;\n//     }\n//     this.props.onSubmit(this.state.searchFieldvalue);\n//     this.setState({ searchFieldvalue: \"\" });\n//   };\n\n//   render() {\n//     return (\n//       <header className={style.Searchbar}>\n//         <form onSubmit={this.handleSubmit} className={style.SearchForm}>\n//           <button type=\"submit\" className={style.button}>\n//             <span className={style.label}>Search</span>\n//           </button>\n\n//           <input\n//             className={style.input}\n//             type=\"text\"\n//             value={this.state.searchFieldvalue}\n//             onChange={this.handleFieldChange}\n//             autoComplete=\"off\"\n//             autoFocus\n//             placeholder=\"Search images and photos\"\n//           />\n//         </form>\n//       </header>\n//     );\n//   }\n// }\n\n// // SearchBar.propTypes = {\n\n// // };\n\n// export default SearchBar;\n","import style from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ hits, onClick }) {\n  return (\n    <>\n      {hits.map((item) => (\n        <li key={item.id} className={style.ImageGalleryItem}>\n          <img\n            src={item.webformatURL}\n            alt={item.tags}\n            className={style.image}\n            onClick={() => onClick(item.largeImageURL)}\n          />\n        </li>\n      ))}\n    </>\n  );\n}\n","import style from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"./../ImageGalleryItem/ImageGalleryItem.jsx\";\n\nexport default function ImageGallery({ hits, onClick }) {\n  return (\n    <ul className={style.ImageGallery}>\n      <ImageGalleryItem hits={hits} onClick={onClick} />\n    </ul>\n  );\n}\n\n//   const Section = ({ title, children }) => {\n//     return (\n//       <Container>\n//         <Title>{title}</Title>\n//         {children}\n//       </Container>\n//     );\n//   };\n\n//   export default Section;\n","// import React, { Component } from \"react\";\nimport { useEffect } from 'react';\nimport style from \"./Modal.module.css\";\nimport PropTypes from \"prop-types\";\n\nfunction Modal ({url, tag, handleCloseModal, handleBackdropClose}) {\n  \nuseEffect(()=> {\ndocument.addEventListener(\"keydown\", handleEscClose);\n\nreturn () => {\n  document.removeEventListener(\"keydown\", handleEscClose);\n};\n});\n\n\n const handleEscClose = (e) => {\n    if (e.code === \"Escape\") {\n      handleCloseModal();\n    }\n  };\n\n  \n    \n    return (\n      <div className={style.Overlay} onClick={(e) => handleBackdropClose(e)}>\n        <div className={style.Modal}>\n          <img src={url} alt={tag} />\n        </div>\n      </div>\n    );\n  \n}\n\nModal.propTypes = {\n  url: PropTypes.string,\n  tag: PropTypes.string,\n  handleBackdropClose: PropTypes.func.isRequired,\n  handleCloseModal: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import style from \"./Button.module.css\";\n\nexport default function ButtonMore({ handleClickLoadMore }) {\n  return (\n    <button\n      className={style.Button}\n      type={\"button\"}\n      onClick={handleClickLoadMore}\n    >\n      Load more\n    </button>\n  );\n}\n","import Loader from \"react-loader-spinner\";\n// import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport style from \"./Loader.module.css\";\n\nexport const Spinner = () => (\n  <div className={style.wrapperloader}>\n    <Loader\n      type=\"Oval\"\n      color=\"LightSkyBlue\"\n      height={100}\n      width={100}\n      timeout={3000}\n      className={style.loader}\n    />\n  </div>\n);\n","const key = \"22652626-da7dc8e3a4ffdfdaea60a5cb5\";\nconst defaultUrl = \"https://pixabay.com/api/\";\n\nfunction fetchFirstArr(nextFieldvalue, page) {\n  return fetch(\n    `${defaultUrl}?q=${nextFieldvalue}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response) {\n      return response.json();\n    }\n\n    return console.log(`Нету данных о ${nextFieldvalue}`);\n  });\n}\n\nconst api = {\n  fetchFirstArr,\n};\n\nexport default api;\n\n// .then((res) => res.json());\n// Promise.reject(new Error (`Нету данных с ${nextFieldvalue}`));\n\n// (response) => {\n//   if (response.status.ok) {\n//     return response.json();\n//   }\n// return console.log(`Нету данных о ${nextFieldvalue}`);\n// }\n","// import React, { Component } from \"react\";\nimport { useEffect, useState } from 'react';\nimport SearchBar from \"./Searchbar/SearchBar.jsx\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport ImageGallery from \"./ImageGallery/ImageGallery.jsx\";\nimport Modal from \"./Modal/Modal.jsx\";\nimport ButtonMore from \"./Button/Button.jsx\";\nimport style from \"./App.module.css\";\nimport { Spinner } from \"./Loader/Loader.jsx\";\nimport fetchAPI from \"./API/API.js\";\n\nfunction App () {\n  const [data, setData] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [searchFieldvalue, setSearchFieldvalue] = useState('');\n  const [error, setError] = useState(null);\n  const [selectedlargeImageURL, setSelectedlargeImageURL] = useState(null);\n  const [taglargeImage, setTaglargeImage] = useState(null);\n\n \n\n  useEffect(() => {\n    if (!searchFieldvalue) {return}\n    setLoading(true);\n\n    fetchAPI\n    .fetchFirstArr(searchFieldvalue, page)\n    .then((data) => {\n      if (data.hits.length > 0) {\n        console.log(7777);\n      } else {\n        setError(1);\n      }\n      setData( prevState => [...prevState, ...data.hits] );\n    })\n    .then(\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: \"smooth\",\n      })\n    )\n    .catch((error) => setError(error ))\n    .finally(() => setLoading( false ));\n\n  }, [searchFieldvalue, page]);\n\n  \n \n\n  const handleClickImage = (largeImage) => {\n    const tagObject = data.find((item) => item.largeImageURL === largeImage);\n\n    if (tagObject) {\n      const tag = tagObject.tags;\n      console.log(tag);\n      setSelectedlargeImageURL(largeImage);\n      setTaglargeImage(tag);\n    }\n  };\n\n \n  const handleCloseModal = () => {\n    setSelectedlargeImageURL(null);\n    setTaglargeImage(null);\n  };\n\n  const handleBackdropClose = (e) => {\n    if (e.currentTarget === e.target) {\n      handleCloseModal();\n    }\n  };\n\n  const handleFormSubmit = (searchFieldvalue) => {\n    setSearchFieldvalue(searchFieldvalue);\n    setPage(1);\n    setData([]);\n    setError(null);\n  };\n\n const  handleClickLoadMore = () => {\n    setPage(prevState => prevState + 1 );\n  };\n\n  \n\n    const showButton = data.length > 0;\n    \n    return (\n      <div>\n        <SearchBar onSubmit={handleFormSubmit} />\n        {error && <h1>Нет данных с таким запросом</h1>}\n        {loading && <Spinner />}\n\n        {data && <ImageGallery hits={data} onClick={handleClickImage} />}\n        {showButton && (\n          <div className={style.ModBut}>\n            <ButtonMore handleClickLoadMore={handleClickLoadMore} />\n          </div>\n        )}\n\n        <ToastContainer autoClose={3000} />\n        {selectedlargeImageURL && (\n          <Modal\n            url={selectedlargeImageURL}\n            tag={taglargeImage}\n            handleBackdropClose={handleBackdropClose}\n            handleCloseModal={handleCloseModal}\n          />\n        )}\n      </div>\n    );\n  \n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}